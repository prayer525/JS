<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no, address=no, email=no">
<title>MyKia :: Opt Ins</title>
<link rel="stylesheet" type="text/css" href="../css/morpheus_style.css">
<script type="text/javascript" src="../js/mcore.min.js"></script>
</head>
<body id="mk_a00_0009">
<!-- ========== Start ========== -->

<div id="wrapper">
	<header id="header" class="f_popup">
		<h1><!-- Opt Ins --><script type="text/javascript">M.locale.localizedWrite("S1_18")</script></h1>
		<button type="button" class="hbtn fl back_white" id="close">Back</button>
<!--		<button type="button" class="hbtn fr" id="save">Save</button>-->
	</header>

	<section id="container">
		<div id="scroll">
		<!-- contents_Start -->

			<ul id="list">
				<li class="hbox jc">
					<h2 class="flex"><!-- Location --><script type="text/javascript">M.locale.localizedWrite("S1_19")</script></h2>
					<span class="switch">
						<input type="checkbox" id="chk01" />
                        <label for="chk01"><span><!-- Allow --><script type="text/javascript">M.locale.localizedWrite("S1_21")</script></span><span><!-- No --><script type="text/javascript">M.locale.localizedWrite("N1_6")</script></span></label>
					</span>
				</li>
				<li class="hbox jc">
					<h2 class="flex"><!-- Telephony --><script type="text/javascript">M.locale.localizedWrite("S1_20")</script></h2>
					<span class="switch">
						<input type="checkbox" id="chk02" />
                        <label for="chk02"><span><!-- Allow --><script type="text/javascript">M.locale.localizedWrite("S1_21")</script></span><span><!-- No --><script type="text/javascript">M.locale.localizedWrite("N1_6")</script></span></label>
					</span>
				</li>
			</ul>

		<!-- //contents_End -->
		</div>
	</section>

	<footer id="footer">
		<p class="img">KIA, The Power to Surprise.</p>
	</footer>
</div>

<!-- ========== //End ========== -->
</body>
<script type="text/javascript" src="../js/ui/common.js"></script>
<script type="text/javascript">

// move back after save Location, Notification state when back button is touched
// 이전 버튼을 터치시 
// Location, Notification 상태를 로컬에 저장후 이전 화면으로 이동한다.
$("#close").click(gfnSetOptIns);
function gfnSetOptIns() {
    var tempVal = {
        gps:$("#chk01").prop("checked"),
        call:$("#chk02").prop("checked")
    }
    MApi.storage(Storage.optInsVal, tempVal);
    Page.backPageModalDown();
}
M.onBack=gfnSetOptIns;

// initialize GPS and Notification button when landing this screen
// 최초 진입 시 로컬에 저장된 GPS, 알림 사용 여부를 불러와서 버튼을 초기화 한다.
M.onReady(function(e) {
	var optInsVal = MApi.storage(Storage.optInsVal);
	if (!optInsVal) {
		return;
	}
	if (optInsVal.gps) {
		$("#chk01").prop("checked", true);
	}
	if (optInsVal.call) {
		$("#chk02").prop("checked", true);
	}
});
</script>
</html>