<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no, address=no, email=no">
<title>MyKia :: Main</title>
<link rel="stylesheet" type="text/css" href="../css/morpheus_style.css">
<script type="text/javascript" src="../js/mcore.min.js"></script>
<style>
.my_appointments {background-position:1.1rem -20rem !important; width:100% !important;}
.app_link {background-position:1.1rem -25rem !important;display:none}
.app_link_it {background-position:1.1rem -25rem !important;display:none}
#mk_c03_0001 {background:rgba(77,85,98,.7) url('../img/menu_02_icon.png')no-repeat 1.1rem 0;background-size:2.8rem;background-position:1.1rem -15rem;}
#wrapper {overflow:hidden;}

.contact_kia {display:none;}
</style>
</head>
<body id="mk_a00_0005">
<!-- ========== Start ========== -->
	
	<!-- LayerPop -->
	<!-- LayerPop : 현대자동차에서 로그인 발생된 것으로 보고. -->
	<div class="lightbox none"></div>
	<div class="popup mk_a00_0003 none">
		<div class="popup_m">
			<div class="popup_in">
				<div class="p_header">
					<strong><!-- Recall --><script type="text/javascript">M.locale.localizedWrite("B1_25")</script></strong>
					<button class="pbtn close pl"><!-- Close --><script type="text/javascript">M.locale.localizedWrite("B1_1")</script></button>
				</div>
				<div class="p_body">
					<!-- top area -->
					<!-- 상단영역 -->
					<div class="p_data_top">
						<!-- <div class="hbox jc">
							<img src="../img/p_usr.png"/>
							<strong class="flex">ANELLI AUTO DUE S.p.A.ANELE S.</strong>
						</div>
						<p>Hello Mr. Raffaello</p>
						<p>We have an important infomation for you. Please read the following message.</p> -->
					</div>
					<!-- footer area -->
					<!-- 하단영역 -->
					<div class="p_data_bottom">
						<!-- <strong>29 / 03 / 2015</strong>
						<p>Callback of Picanto</p>
						<button class="btn_white">Read more</button> -->
					</div>
				</div>
				<div class="p_footer">
					<input type="checkbox" id="chk01">
					<label for="chk01"><script type="text/javascript">M.locale.localizedWrite("B1_5")</script></label>
				</div>
			</div>
		</div>
	</div>
	<!-- //LayerPop -->


<div id="wrapper">
	<header id="header">
		<div id="mode" class="mode"></div>
		<!-- <button type="button" class="hbtn fl setting" id="Register">Register</button> -->
		<h1 class="">&nbsp;</h1>
		<button type="button" class="hbtn fr setting" id="mk_a00_0006">Setting</button>
	</header>

	<!-- MENU_AREA_fixed -->
	<div class="menu_wrap menu_fixed">
		<ul class="tab hbox js paging"><!-- select add class="on" -->
			<li class="flex btn_page on">
				<button type="button" id="myVehicle"><!--MY VEHICLE-->
					<script type="text/javascript">M.locale.localizedWrite("B1_18")</script>
				</button>
			</li>
			<li class="flex btn_page">
				<button type="button" id="myService"><!--MY SERVICE-->
					<script type="text/javascript">M.locale.localizedWrite("B1_17")</script>
				</button>
			</li>
			<li class="flex btn_page">
				<button type="button" id="drivingHelp"><!--DRIVING HELP-->
					<script type="text/javascript">M.locale.localizedWrite("B1_19")</script>
				</button>
			</li>
			<li class="flex btn_page">
				<button type="button" id="kiaNews"><!--KIA NEWS-->
					<script type="text/javascript">M.locale.localizedWrite("B1_20")</script>
				</button>
			</li>
		</ul>
	</div>

	<section id="container">
		<div id="touchSlider" class="swipe swiper-container">
			<ul class="swipe_wrap swiper-wrapper">
			<!-- please add none class with main_0* class used according to the menu -->
			<!-- 사용되는 메뉴에 따라 나머지 main_0* class에 none 추가해주세요 -->
				<!-- menu01 : MY VEHICLE -->
				<li class="main_sub main_01 " id="myVehicleTile" style="display:block">
					<h2><script type="text/javascript">M.locale.localizedWrite("B1_18")</script></h2>
					<p class="p_mycar"><img class="img_mycar" id="mycar" src="" alt=""/></p>
					<button type="button" class="ve_set" id="mk_a00_0004" style="display:none;">setting</button>
					<ul class="main_sub_menu">
						<!-- <li id="mk_b01_0001"> -->
						<!-- 2013.03.13 mileage update화면 profile화면으로 변 -->
						<li id="mk_a00_0007">
							<button type="button"><!--Update<br/>Mileage--><script type="text/javascript">M.locale.localizedWrite("B1_22")</script></button>
						</li>
						<li id="mk_b02_0001">
							<button type="button"><!--Manuals--><script type="text/javascript">M.locale.localizedWrite("D1_5")</script></button>
						</li>
						<li id="mk_b03_0001">
							<button type="button"><!--Dashboard<br/>Indicator--><script type="text/javascript">M.locale.localizedWrite("B1_29")</script></button>
						</li>
						<li id="mk_b04_0001">
							<button type="button"><!--How to<br/>Videos--><script type="text/javascript">M.locale.localizedWrite("B1_30")</script><p class="badge" style="display:none;" id="how2video">0</p></button>
						</li>
					</ul>
				</li>

				<!--menu02 : MY SERVICE-->
				<li class="main_sub main_02" id="myServiceTile" >
					<h2><script type="text/javascript">M.locale.localizedWrite("B1_17")</script></h2>
					<ul class="main_sub_menu">
                        <li id="mk_c04_0001">
                            <button type="button"><!--Maintenance<br/>Schedule--><script type="text/javascript">M.locale.localizedWrite("B1_34")</script><p class="badge" style="display:none;" id="maintenace">N</p></button>
                        </li>
                        <!-- when user has only one dealer : countries except Sweden -->
                        <!-- 딜러가 한명일 경우 : 스웨덴을 제외한 나라 -->
						<li class="dealder-detail">
							<button type="button"><!--MyKia<br/>Dealer--><script type="text/javascript">M.locale.localizedWrite("B1_31")</script></button>
						</li>
						<!-- <li id="mk_c02_0002">
							<button type="button"><-Test Driver<br/>Request-<script type="text/javascript">M.locale.localizedWrite("B1_32")</script></button>
						</li> -->
						<li class="my_appointments">
							<button type="button">
								<!-- My Appointments -->
								<script type="text/javascript">M.locale.localizedWrite("W0_12")</script>
							</button>
						</li>
						<li class="app_link">
							<button type="button">
								<!-- My Appointments -->
								<script type="text/javascript">M.locale.localizedWrite("WL_01")</script>
							</button>
						</li>

						<li class="app_link_it">
							<button type="button">
								<!-- My Appointments -->
								Green Box
							</button>
						</li>
						<li id="mk_c04_0002" class="contact_kia">
                            <button type="button"><!--Maintenance<br/>Schedule--><script type="text/javascript">M.locale.localizedWrite("S1_15")</script></button>
                        </li>
						<!-- <li data-type="filter"><button type="button">Service<br/>Appointment</button></li> -->
						<!-- keep even number if total menu is odd -->
						<!--갯수가 홀수일 경우 짝수로 맞춰주세요-->
						<!-- <li></li> -->
					</ul>
				</li>

				<!--menu03 : DRIVING & HELP-->
				<li class="main_sub main_03" id="drivingHelpTile" >
					<h2><script type="text/javascript">M.locale.localizedWrite("B1_42")</script></h2>
					<ul class="main_sub_menu">
						<li id="mk_d01_0001">
							<button type="button"><!--Dealer<br/>Locator--><script type="text/javascript">M.locale.localizedWrite("B1_35")</script></button>
						</li>
						<!-- <li ><button>Fuel Station<br/>Locator</button></li> -->
						<li id="mk_d03_0001">
							<button type="button"><!--Parked Vehicle<br/>Locator--><script type="text/javascript">M.locale.localizedWrite("B1_36")</script></button>
						</li>
						<li id="mk_d04_0001">
							<button type="button"><!--Breakdown<br/>Assistance--><script type="text/javascript">M.locale.localizedWrite("B1_37")</script></button>
						</li>
						<li id="mk_d05_0001">
							<button type="button"><!--Emergency<br/>Call--><script type="text/javascript">M.locale.localizedWrite("B1_38")</script></button>
						</li>
						<!-- <li></li> -->
					</ul>
				</li>

				<!-- menu04 : NEWS -->
				<li class="main_sub main_04" id="kiaNewsTile" >
					<h2><script type="text/javascript">M.locale.localizedWrite("B1_27")</script></h2>
					<ul class="main_sub_menu sub_menu_eu">
						<li id="mk_e03_0001">
							<button type="button"><!-- MyKia<br/>Video --><script type="text/javascript">M.locale.localizedWrite("B1_41")</script><p class="badge" style="display:none;" id="kiavideo">0</p></button>
						</li>
						<li id="mk_c03_0001" >
							<button type="button"><!--Brochure<br/>Request--><script type="text/javascript">M.locale.localizedWrite("B1_33")</script></button>
						</li>
						<li id="mk_e04_0001" style="width:100%;">
							<button type="button"><!--MyKia<br/>News--> <span></span><p class="badge" style="display:none;" id="kianews">0</p></button>
						</li>
					</ul>
					<ul class="main_sub_menu sub_menu_kmd">
						<li id="mk_e03_0001" style="width:100%">
							<button type="button"><!-- MyKia<br/>Video --><script type="text/javascript">M.locale.localizedWrite("B1_41")</script><p class="badge" style="display:none;" id="kiavideo">0</p></button>
						</li>
						<li id="mk_e04_0001" style="width:100%;">
							<button type="button"><!--MyKia<br/>News--> <span></span><p class="badge" style="display:none;" id="kianews">0</p></button>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</section>

	<!-- FOOTER_AREA -->
	<footer id="footer">
		<p class="img">KIA, The Power to Surprise.</p>
	</footer>
</div>

<!-- ========== //End ========== -->
</body>
<script type="text/javascript" src="../js/ui/common.js"></script>
<!-- <script type="text/javascript" src='../bower_components/swiper/dist/js/swiper.js'></script> -->
<script type="text/javascript" src='../js/libs/slide/jquery.event.drag-1.5.1.min.js'></script>
<script type="text/javascript" src='../js/libs/slide/jquery.touchSlider.js'></script>
<script type="text/javascript">
var appLinkTimeout = null;

// ignore touching if menu has 'data-type=filter' without My Appointments menu
// My Appointments를 제외한 data-type=filter 는 무시된다.
$(".main_sub").find("[data-type=filter]").click(JsUtil.readyAlert);
$(".main_sub").find("li:not([data-type=filter], .my_appointments)").click(Page.moveToPageForId);

// move to change my vehicle screen when it touches change vehicle button
// 자동차 선택 버튼을 터치하면 자동차 변경 화면으로 이동한다.
$("#mk_a00_0004").data(Scheme.Param,{backData:true});
$("#mk_a00_0004").click(Page.moveToPageModalUp);

// move to setting screen
// setting 화면으로 이동한다.
$("#mk_a00_0006").click(Page.moveToPageForId);

$("#Register").click(function(){
	var memJoinUrl = M.locale.localizedString("W0_URL");

	//memJoinUrl = memJoinUrl.replace(/%20/gi, ' ');

	M.page.html(memJoinUrl);
})

// touched My Appointments menu
// My Appointments 메뉴를 터치함
$(function(){
	$(".my_appointments").click(function(){
		if(M.locale.VirtualMode || exWNNetworkConnectionCheck() == "YES"){
			Page.moveToTargetPage($(this), this);
		}else{
			MApi.alert(M.locale.localizedString("V1_6"));
			return false;
		}
	});
})

function gfnInit(){

	// login 여부확인
	// check logged in
	// 로그인 여부를 판단한다.
	/* 
	 * 2017.03.13
	 * logout시 login 화면으로 이동한다.	
	 */
	if(!LoginManager.isLogin()){
		M.page.html("mk_a00_0002.html",Options.ClearTop);
	}
	
	// secondDealer 유무에 따라 링크값 변경
	var userInfo = LoginManager.getDetailsInfo();

	// SecondDealer가 있고, PreferredDealer와 SapCode가 다르면 탭이 있는 화면으로 이동
	if (!!userInfo.SecondDealer && userInfo.PreferredDealer !== userInfo.SecondDealer) {
		// there has no second dealer (in case Sweden)
		// 스웨덴 딜러 (딜러가 1명 이상 존재)
		$(".dealder-detail").attr("id","mk_c01_0002")

	// SecondDealer가 없거나, PreferredDealer와 SapCode가 같으면 탭이 없는 화면으로 이동
	} else {
		// other dealer
		// 기타 딜러
		$(".dealder-detail").attr("id","mk_c01_0001")
	}
	
	$('#mk_e04_0001 button span').html(M.locale.localizedText("B1_39"))

	// 스웨덴 마켓일 경우 App Link를 표시한다.
	if (LoginManager.getDetailsInfo().MarketId === 'KMSE') {
		$('.my_appointments').attr('style', 'width: 50% !important');
		$('.app_link')
			.show()
			.on('click', function(){
				var platform = M.info.device().os.name.toLocaleLowerCase()

				if (platform == 'android') {
					var openDefa = M.apps.open('com.est.defa', {})

					if(!openDefa){
						M.apps.store("com.est.defa");
					}

					return false;
				}else if (platform == 'ios' || platform == 'iphone os') {
					var openDefa = M.apps.open('DEFALink://', {});

					if(!openDefa){
						M.apps.store("542334548");
					}

					return false;
				}
				window.open('https://play.google.com/store/apps/details?id=com.est.defa');
			});
		$('.sub_menu_kmd').hide();
		$('.sub_menu_eu').show();
		
		// v1.7에서 반영 아래 주석 풀고 iOS URL추가 필요 
	/* }else if(LoginManager.getDetailsInfo().MarketId === 'KMIT') {
		$('.my_appointments').attr('style', 'width: 50% !important');
		$('.app_link_it')
			.show()
			.on('click', function(){
				var platform = M.info.device().os.name.toLocaleLowerCase()

				if (platform == 'android') {
					var openDefa = M.apps.open('com.greenbox.mobile', {})

					if(!openDefa){
						M.apps.store("com.greenbox.mobile");
					}

					return false;
				}else if (platform == 'ios' || platform == 'iphone os') {

					console.log('defa')

					var openDefa = M.apps.open('SchemeTest://', {});

					if(!openDefa){
						M.apps.store("542334548");
					}

					return false;
				}
			}); */
	}else if(LoginManager.getDetailsInfo().MarketId === 'KMDE') {
		$('.sub_menu_kmd').show();
		$('.sub_menu_eu').hide();
	}else if(LoginManager.getDetailsInfo().MarketId === 'KMAT' || LoginManager.getDetailsInfo().MarketId === 'KMIE') {
		$('.my_appointments').attr('style', 'width: 50% !important');
		$('.contact_kia').show();
		$('.sub_menu_kmd').hide();
		$('.sub_menu_eu').show();
	}else {
		$('.my_appointments').attr('style', '');
		$('.app_link').hide();
		$('.app_link_it').hide();
		$('.sub_menu_kmd').hide();
		$('.sub_menu_eu').show();
		$('.contact_kia').hide();
	}

	/*
	var secondDealer = LoginManager.getSecondDealerInfo();
	var secondDealerLeng = 0;
	var isSameDealers = false;
	for(var p in secondDealer){
		secondDealerLeng++;
	}

	if(secondDealerLeng > 0){
		// there has no second dealer (in case Sweden)
		// 스웨덴 딜러 (딜러가 1명 이상 존재)
		$(".dealder-detail").attr("id","mk_c01_0002")
	}else{
		// other dealer
		// 기타 딜러
		$(".dealder-detail").attr("id","mk_c01_0001")
	}
	*/

	// change Kia brand logo for current language setting
	// 최초 진입 시 현재 언어 설정에 맞는 로고를 표시한다.
	var localeCode = M.locale.get();
	if (localeCode.match("es")) {
		$("#header > h1").attr("class", "lang_es");
	}
	else if (localeCode.match("pl")) {
		$("#header > h1").attr("class", "lang_pl");
	}
	else if (localeCode.match("cs")) {
		$("#header > h1").attr("class", "lang_cs");
	}
	else {
		$("#header > h1").attr("class", "lang_en");
	}
	$("#header > h1").text("MyKia");
	
	// check logged in
	// 로그인 여부를 판단한다.
	try{
		/*
		 * display selected vehicle if logged in
		 * display change vehicle button if user has two or more vehicles
		 * 로그인된 경우
		 * 선택된 차량의 이미지를 표시한다.
		 * 차량이 1대 이상일 경우 차량 변경 버튼을 표시한다.
		 */
		var myvehicle=LoginManager.getSelectedVehiclesInfo();
		$("#mycar").addClass("onserver");
		//$("#mycar").attr("src","data:"+myvehicle.VehicleImageExtension+";base64,"+myvehicle.VehicleImage);
		$("#mycar").attr("src", myvehicle.VehicleImageUrl);
		if (LoginManager.getVehiclesInfo().Vehicles.length>1) {
			$("#mk_a00_0004").show();
		}else{
			$("#mk_a00_0004").hide();
		}
	}catch(e){

		// display default vehicle image user still not logged in
		// 로그인 되지 않은 경우 기본 차량 이미지를 표시한다
		$("#mycar").removeClass("onserver");
		if($("#mycar").attr("src").indexOf("RP_K3Y")==-1) $("#mycar").attr("src","../img/car/RP_K3Y.png");
		$("#mk_a00_0004").hide();
	}
	$("#mycar").css({
		width: $(window).width() * 0.95 + 'px'
	})

	/*
	 * display badges on news and promotion mene if user has logged in
	 * display recall popup if user has recall information
	 * 로그인된 경우
	 * 개인 프로필에서 선택한 알림 정보에 맞게 뉴스, 프로모션 등 알림 정보를 표시한다.
	 * 리콜정보가 있는 경우 리콜 팝업을 표시한다
	 */
	if(LoginManager.isLogin()){
		var loginInfo=LoginManager.getLoginInfo();
		if(loginInfo!=""&&loginInfo!=null){
			gfnShowBadge("#how2video",loginInfo.Notification.How2VideoCnt);
			gfnShowBadge("#kianews",loginInfo.Notification.MyKiaNewsCnt);
			gfnShowBadge("#salesNpro",loginInfo.Notification.SalesNProCnt);
			gfnShowBadge("#kiavideo",loginInfo.Notification.MyKiaVideoCnt);
			if(loginInfo.Notification.IsMaintenance) $("#maintenace").show();
			
			// display recall popup if user has recall information
			// 리콜정보가 있는 경우 리콜 팝업을 표시한다
			var recallInfo = LoginManager.getRecallInformation();
			if (recallInfo!=""&&recallInfo!=null) {
				var recallList = recallInfo.Recall,
					item = recallList.shift()
		
				if (item != undefined) {
					gfnRecallInfo(item, recallList);
				}
			}
		}else{
			gfnShowBadge("#how2video",0);
			gfnShowBadge("#kianews",0);
			gfnShowBadge("#salesNpro",0);
			gfnShowBadge("#kiavideo",0);
			$("#maintenace").hide();
		}
	}

	var putLanguage=M.data.global("putLanguage");
	if(putLanguage=="YES"){
		if(LoginManager.isLogin()){
			M.net.http.send({
			    server: MApi.storage(Storage.TargetServer),
			    trcode: TrCode.LangSet,
			    data : {
					CustomerId : exRHMEncrypt(LoginManager.getCustomerId()),
					CultureCode : M.locale.get()
				},
			    userData : {
			    	Authorization:MApi.storage(Storage.Authorization)
			    },
			    success : function(rev,setting){
			    	console.log('setLang success : ', rev,setting)
			    },
			    error : function(code,msg,setting){
			    	console.log('setLang fail : ', code,msg,setting)
			    },
			    indicator : {show:false},
			    secure : true
			});
		}
		M.data.global("putLanguage","NO");
	}
}

// display badges on news and promotion mene if user has logged in
// 개인 프로필에서 선택한 알림 정보에 맞게 뉴스, 프로모션 등 알림 정보를 표시한다.
function gfnShowBadge(id,val){
	var pushInfo = LoginManager.getPushInfo(),
		isShow = true;
	switch (id) {
	case "#how2video":
		if (!pushInfo.IsHowToVideoPush)
			isShow = false;
		break;

	case "#kianews":
		if (!pushInfo.IsNewsPush)
			isShow = false;
		break;

	case "#salesNpro":
		if (!pushInfo.IsSalesNProPush)
			isShow = false;
		break;

	case "#kiavideo":
		if (!pushInfo.IsVideoPush)
			isShow = false;
		break;

	default:
		break;
	}
	if(isShow && val!=0){
		$(id).text(val);
		$(id).show();
	}else{
		$(id).hide();
	}
}

// display recall popup if user has recall information
// 리콜정보가 있는 경우 리콜 팝업을 표시한다
function gfnRecallInfo(target, list) {
	$(".lightbox").removeClass("none");
	$(".mk_a00_0003").removeClass("none");

	$(".p_data_top").html("");
	$(".p_data_bottom").html("");

	$('<div class="hbox jc"></div>').append($('<img src="../img/p_usr.png"/>)')).append(
		$('<strong class="flex"></strong>').html(
			LoginManager.getDealerInfo().Name
		)).appendTo($(".p_data_top"));
	$('<p></p>').html(JsUtil.stringFomatter(M.locale.localizedString("O1_2"), [LoginManager.getDetailsInfo().FirstName])).appendTo($(".p_data_top"));
	$('<p></p>').html(target.RecallMessage).appendTo($(".p_data_top"));
	var theVehicle = LoginManager.getVehiclesInfo().Vehicles,
		recallCarName = "";
	$(theVehicle).each(function(idx, car) {
		if (car.VIN == target.VIN) {
			recallCarName = car.VehicleName;
			return false;
		}
	});

	$(".p_data_bottom").append($("<strong></strong>").html(JsUtil.getDateFormatter(target.RecallDate)))
		.append($("<p></p>").html(JsUtil.stringFomatter(M.locale.localizedString("O1_3"), [recallCarName])))
		.append($("<p></p>").html(target.RecallTitle))
		.append($("<button></button>").html(M.locale.localizedString("E1_51")).addClass("btn_white").data(Scheme.PhoneNumber, "+"+LoginManager.getDealerInfo().Phone).off("click").click(MApi.call));

	$(".pbtn.close").off("click");
	$(".pbtn.close").click(function() {
		if ($("#chk01").prop("checked")) {
			var tempList = LoginManager.getRecallInformation();
			$(tempList.Recall).each(function(idx, item) {
				if (JSON.stringify(target) == JSON.stringify(item)) {
					var pushInfo=LoginManager.getPushInfo();
					pushInfo[item.RecallId]=false;
					LoginManager.setPushInfo(pushInfo);
					tempList.Recall.splice(idx, 1);
					LoginManager.setRecallInformation(tempList);
					$("#chk01").prop("checked", false);
					return false;
				}
			});
		}

		var next = list.shift();
		if (next == undefined) {
			$(".lightbox").addClass("none");
			$(".mk_a00_0003").addClass("none");
		}
		else {
			gfnRecallInfo(next, list);
		}
	});
}
gfnInit();

M.onReady(function(e){
	init(e);
	checkMode();
});

function init(e) {
 	MApi.clearAllStack();

 	/**
	 * start swipe on main screen
	 * 메인 화면 Swipe 구동
	 */
	 $("#touchSlider").touchSlider({
		initComplete : function (e) {
			var _this = this;
			var $this = $(this);
			var paging = $(".paging");
			
			paging.find(".btn_page").bind("click", function (e) {
				_this.go_page($(this).index());
			});
		},
		counter : function (e) {
			$(".paging").find(".btn_page").removeClass("on").eq(e.current-1).addClass("on");
		}
	});
}

M.onRestore(function(e){
	var param = e.param || {}
	if (param.needRefresh == 'true') {
		window.location.reload();
	}
	gfnInit();
});
M.onResume(function(){
	clearTimeout(appLinkTimeout);
	appLinkTimeout = null;
})
M.onPause(function(e){
	clearTimeout(appLinkTimeout);
	appLinkTimeout = null;
})
M.onBack=function(){
	var isPopOpened = $(".lightbox").hasClass("none")
	KmeSpinner.stop();
	if (!isPopOpened) {
		$(".pbtn.close").click();
		return false
	}
	/*if(confirm("Are you sure you want quit app?")){
		M.sys.exit();
	}*/
};

// check Production, Accept mode 
// Production, Accept mode 확인
function checkMode() {
	return '';
	var mode = 'P'
	if (M.locale.PocMode) {
		mode = 'POC';
	} else if (M.locale.VirtualMode) {
		mode = 'V';
	} else if (M.locale.DevMode) {
		mode = 'A';
	}
	$('#mode').html(mode);
}
</script>
</html>